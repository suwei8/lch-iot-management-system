2025-08-26 01:13:20 [INFO] [NestFactory] Starting Nest application...
2025-08-26 01:13:20 [INFO] [InstanceLoader] TypeOrmModule dependencies initialized
2025-08-26 01:13:20 [INFO] [InstanceLoader] PassportModule dependencies initialized
2025-08-26 01:13:20 [INFO] [InstanceLoader] JwtModule dependencies initialized
2025-08-26 01:13:20 [INFO] [InstanceLoader] JwtModule dependencies initialized
2025-08-26 01:13:20 [INFO] [InstanceLoader] ConfigHostModule dependencies initialized
2025-08-26 01:13:20 [INFO] [InstanceLoader] ConfigModule dependencies initialized
2025-08-26 01:13:21 [INFO] [InstanceLoader] TypeOrmCoreModule dependencies initialized
2025-08-26 01:14:27 [INFO] [NestFactory] Starting Nest application...
2025-08-26 01:14:27 [INFO] [InstanceLoader] TypeOrmModule dependencies initialized
2025-08-26 01:14:27 [INFO] [InstanceLoader] PassportModule dependencies initialized
2025-08-26 01:14:27 [INFO] [InstanceLoader] JwtModule dependencies initialized
2025-08-26 01:14:27 [INFO] [InstanceLoader] JwtModule dependencies initialized
2025-08-26 01:14:27 [INFO] [InstanceLoader] ConfigHostModule dependencies initialized
2025-08-26 01:14:27 [INFO] [InstanceLoader] ConfigModule dependencies initialized
2025-08-26 01:14:27 [INFO] [InstanceLoader] TypeOrmCoreModule dependencies initialized
2025-08-26 01:15:00 [INFO] [NestFactory] Starting Nest application...
2025-08-26 01:15:00 [INFO] [InstanceLoader] TypeOrmModule dependencies initialized
2025-08-26 01:15:00 [INFO] [InstanceLoader] PassportModule dependencies initialized
2025-08-26 01:15:00 [INFO] [InstanceLoader] JwtModule dependencies initialized
2025-08-26 01:15:00 [INFO] [InstanceLoader] JwtModule dependencies initialized
2025-08-26 01:15:00 [INFO] [InstanceLoader] ConfigHostModule dependencies initialized
2025-08-26 01:15:00 [INFO] [InstanceLoader] ConfigModule dependencies initialized
2025-08-26 01:15:00 [ERROR] [TypeOrmModule] Unable to connect to the database. Retrying (1)...
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1122:18)
    at afterConnectMultiple (node:net:1689:7)
2025-08-26 01:15:03 [ERROR] [TypeOrmModule] Unable to connect to the database. Retrying (2)...
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1122:18)
    at afterConnectMultiple (node:net:1689:7)
2025-08-26 01:15:06 [ERROR] [TypeOrmModule] Unable to connect to the database. Retrying (3)...
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1122:18)
    at afterConnectMultiple (node:net:1689:7)
2025-08-26 01:15:09 [ERROR] [TypeOrmModule] Unable to connect to the database. Retrying (4)...
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1122:18)
    at afterConnectMultiple (node:net:1689:7)
2025-08-26 01:15:12 [ERROR] [TypeOrmModule] Unable to connect to the database. Retrying (5)...
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1122:18)
    at afterConnectMultiple (node:net:1689:7)
2025-08-26 01:15:15 [ERROR] [TypeOrmModule] Unable to connect to the database. Retrying (6)...
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1122:18)
    at afterConnectMultiple (node:net:1689:7)
2025-08-26 01:15:18 [ERROR] [TypeOrmModule] Unable to connect to the database. Retrying (7)...
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1122:18)
    at afterConnectMultiple (node:net:1689:7)
2025-08-26 01:15:21 [ERROR] [TypeOrmModule] Unable to connect to the database. Retrying (8)...
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1122:18)
    at afterConnectMultiple (node:net:1689:7)
2025-08-26 01:15:24 [ERROR] [TypeOrmModule] Unable to connect to the database. Retrying (9)...
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1122:18)
    at afterConnectMultiple (node:net:1689:7)
2025-08-26 01:22:09 [INFO] [NestFactory] Starting Nest application...
2025-08-26 01:22:09 [INFO] [InstanceLoader] TypeOrmModule dependencies initialized
2025-08-26 01:22:09 [INFO] [InstanceLoader] PassportModule dependencies initialized
2025-08-26 01:22:09 [INFO] [InstanceLoader] JwtModule dependencies initialized
2025-08-26 01:22:09 [INFO] [InstanceLoader] JwtModule dependencies initialized
2025-08-26 01:22:09 [INFO] [InstanceLoader] ConfigHostModule dependencies initialized
2025-08-26 01:22:09 [INFO] [InstanceLoader] ConfigModule dependencies initialized
2025-08-26 01:22:10 [INFO] [InstanceLoader] TypeOrmCoreModule dependencies initialized
2025-08-26 01:22:10 [INFO] [InstanceLoader] TypeOrmModule dependencies initialized
2025-08-26 01:22:10 [INFO] [InstanceLoader] TypeOrmModule dependencies initialized
2025-08-26 01:22:10 [INFO] [InstanceLoader] TypeOrmModule dependencies initialized
2025-08-26 01:22:10 [INFO] [InstanceLoader] TypeOrmModule dependencies initialized
2025-08-26 01:22:10 [INFO] [InstanceLoader] TypeOrmModule dependencies initialized
2025-08-26 01:22:10 [INFO] [InstanceLoader] AppModule dependencies initialized
2025-08-26 01:22:10 [INFO] [InstanceLoader] AuthModule dependencies initialized
2025-08-26 01:22:10 [INFO] [InstanceLoader] AuditLogModule dependencies initialized
2025-08-26 01:22:10 [INFO] [InstanceLoader] UserModule dependencies initialized
2025-08-26 01:22:10 [INFO] [InstanceLoader] DeviceModule dependencies initialized
2025-08-26 01:22:10 [INFO] [InstanceLoader] AdminModule dependencies initialized
2025-08-26 01:22:10 [INFO] [InstanceLoader] OrderModule dependencies initialized
2025-08-26 01:22:10 [INFO] [RoutesResolver] AuthController {/api/v1/auth}:
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/auth/register, POST} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/auth/login, POST} route
2025-08-26 01:22:10 [INFO] [RoutesResolver] UserController {/api/v1/users}:
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/users/profile, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/users/profile, PUT} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/users, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/users/:id, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/users/:id, PUT} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/users/:id, DELETE} route
2025-08-26 01:22:10 [INFO] [RoutesResolver] DeviceController {/api/v1/devices}:
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/devices, POST} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/devices, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/devices/:id, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/devices/:id, PUT} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/devices/:id, DELETE} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/devices/:id/logs, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/devices/callback, POST} route
2025-08-26 01:22:10 [INFO] [RoutesResolver] OrderController {/api/v1/orders}:
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/orders, POST} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/orders, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/orders/admin/all, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/orders/:id, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/orders/:id, PATCH} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/orders/:orderNumber/pay, POST} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/orders/:id/cancel, POST} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/orders/:orderNumber/start, POST} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/orders/:orderNumber/complete, POST} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/orders/stats/user, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/orders/stats/user/:userId, GET} route
2025-08-26 01:22:10 [INFO] [RoutesResolver] AdminController {/api/v1/admin}:
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/dashboard/stats, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/dashboard/user-growth, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/dashboard/order-trend, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/dashboard/device-usage, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/system/health, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/system/logs, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/system/clear-cache, POST} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/users, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/users/:id, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/users/:id, PUT} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/users/:id/delete, POST} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/merchants, POST} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/merchants, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/merchants/:id, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/merchants/:id, PUT} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/merchants/:id/delete, POST} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/stores, POST} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/stores, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/stores/:id, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/stores/:id, PUT} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/stores/:id/delete, POST} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/devices, POST} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/devices, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/devices/:id, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/devices/:id, PUT} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/devices/:id/delete, POST} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/devices/:id/logs, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/orders, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/orders/:id, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/orders/:id, PUT} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/inventory, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/inventory/:id, PUT} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/alerts, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/alerts/:id/acknowledge, PUT} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/data/export, POST} route
2025-08-26 01:22:10 [INFO] [RoutesResolver] AuditLogController {/api/v1/admin/audit-logs}:
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/audit-logs, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/audit-logs/:id, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/audit-logs/stats/overview, GET} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/audit-logs/export, POST} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/audit-logs/batch, DELETE} route
2025-08-26 01:22:10 [INFO] [RouterExplorer] Mapped {/api/v1/admin/audit-logs/cleanup, POST} route
2025-08-26 01:22:10 [INFO] [NestApplication] Nest application successfully started
2025-08-26 01:22:28 [ERROR] [GlobalExceptionFilter] GET /?ide_webview_request_time=1756133444900 - 404 - Cannot GET /?ide_webview_request_time=1756133444900
{"headers":{"host":"localhost:8000","connection":"keep-alive","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Trae/1.100.3 Chrome/132.0.6834.210 Electron/34.5.1 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"none","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"zh-CN"},"body":{},"params":{},"query":{"ide_webview_request_time":"1756133444900"}}
2025-08-26 01:22:28 [ERROR] [GlobalExceptionFilter] GET /?ide_webview_request_time=1756133444900 - 404 - Cannot GET /?ide_webview_request_time=1756133444900
{"headers":{"host":"localhost:8000","connection":"keep-alive","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Trae/1.100.3 Chrome/132.0.6834.210 Electron/34.5.1 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"none","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"zh-CN"},"body":{},"params":{},"query":{"ide_webview_request_time":"1756133444900"}}
2025-08-26 01:22:28 [ERROR] [GlobalExceptionFilter] GET /@vite/client - 404 - Cannot GET /@vite/client
{"headers":{"host":"localhost:8000","connection":"keep-alive","origin":"http://localhost:8000","sec-ch-ua-platform":"\"Windows\"","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Trae/1.100.3 Chrome/132.0.6834.210 Electron/34.5.1 Safari/537.36","sec-ch-ua":"\"Not A(Brand\";v=\"8\", \"Chromium\";v=\"132\"","sec-ch-ua-mobile":"?0","accept":"*/*","sec-fetch-site":"same-origin","sec-fetch-mode":"cors","sec-fetch-dest":"script","referer":"http://localhost:8000/?ide_webview_request_time=1756133444900","accept-encoding":"gzip, deflate, br, zstd","accept-language":"zh-CN"},"body":{},"params":{},"query":{}}
2025-08-26 01:22:54 [ERROR] [GlobalExceptionFilter] GET /api/v1/admin/audit-logs - 401 - Unauthorized
{"headers":{"content-type":"application/json","user-agent":"Mozilla/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell/5.1.26100.4768","host":"localhost:8000","connection":"Keep-Alive"},"body":{},"params":{},"query":{}}
2025-08-26 01:29:10 [ERROR] [GlobalExceptionFilter] GET / - 404 - Cannot GET /
{"headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua":"\"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"none","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"zh-CN,zh;q=0.9","cookie":"ajs_anonymous_id=9f4e03ab-4e1c-43c9-81fe-58c7055e0400; lotto_auth=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwiZXhwX2RhdGUiOjE3NTgwNDQwMTkuMTYwNDYxfQ.diBh-jYg8za2bROL25npiLQF6nujVO7ZADJyq8eqJ4Y"},"body":{},"params":{},"query":{}}
2025-08-26 01:29:11 [ERROR] [GlobalExceptionFilter] GET /favicon.ico - 404 - Cannot GET /favicon.ico
{"headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","sec-ch-ua":"\"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"","sec-ch-ua-mobile":"?0","accept":"image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8","sec-fetch-site":"same-origin","sec-fetch-mode":"no-cors","sec-fetch-dest":"image","referer":"http://localhost:8000/","accept-encoding":"gzip, deflate, br, zstd","accept-language":"zh-CN,zh;q=0.9","cookie":"ajs_anonymous_id=9f4e03ab-4e1c-43c9-81fe-58c7055e0400; lotto_auth=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwiZXhwX2RhdGUiOjE3NTgwNDQwMTkuMTYwNDYxfQ.diBh-jYg8za2bROL25npiLQF6nujVO7ZADJyq8eqJ4Y"},"body":{},"params":{},"query":{}}
